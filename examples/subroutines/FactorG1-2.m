AttachSpec("../../spec");
SetVerbose("EndoCheck", 0);

F := Rationals();
R<x> := PolynomialRing(F);
K<r> := NumberField(x^2 - 7);
R<x> := PolynomialRing(K);
fX := x^5 + x^4 + 2*x^3 + x^2 + x;
hX := x^2 + x;
X := HyperellipticCurve(fX, hX);
P0 := X ! [1, -r - 1, 1];
fY := 1/4*x^3 - 25/12*x + 253/54;
Y := HyperellipticCurve(fY);
Q0 := Y ! [1, 0, 0];

/* Check that the answer is a projection: */
R<x,y> := PolynomialRing(K, 2);
fs := [
  (37/3*x^11 + 1/50333061*(2270747128*x + 9517908517)*x^10 +
  1/844472343209907*(391372644139248656*x + 1176947820691622259)*x^9 +
  1/3*(48*x - 37)*x^8*y + 1/844472343209907*(1326756683123978600*x +
  3751221849438562720)*x^8 + 1/1862323257*(251237289704*x +
  275513151911)*x^7*y + 1/844472343209907*(1646028383265206264*x +
  4652081457646353688)*x^7 + 1/844472343209907*(304519666704847984*x +
  484800683098808567)*x^6*y + 1/844472343209907*(2196074859470531688*x +
  6102917650389226202)*x^6 + 1/281490781069969*(-269181596363327000*x -
  828915381776839205)*x^5*y + 1/281490781069969*(410507757902044568*x +
  1155545364172903816)*x^5 + 1/844472343209907*(-145269118564922000*x -
  650581160940407215)*x^4*y + 1/844472343209907*(1245598484759522840*x +
  3411755144947190560)*x^4 + 1/281490781069969*(88219083886669848*x +
  184782694001336509)*x^3*y + 1/844472343209907*(-94578266153762424*x -
  210579714480952141)*x^3 + 1/844472343209907*(251891289861170544*x +
  615556583867286061)*x^2*y + 1/844472343209907*(299998995030411216*x +
  803584980584198099)*x^2 + 1/844472343209907*(575323365413920392*x +
  1512936989524579787)*x*y + 1/844472343209907*(-71445800733938520*x -
  191667011145343307)*x + 1/281490781069969*(-92764589084979200*x -
  244630102226944000)*y + 1/22823576843511*(-2184197341312000*x -
  5797786817811200))/(x^11 + 1/620774419*(2673411616*x + 3880605685)*x^10
  + 1/281490781069969*(6108035280722600*x + 11109102866038023)*x^9 -
  x^8*y + 1/281490781069969*(26455850995251752*x +
  59847696024704128)*x^8 + 1/16777687*(-72254368*x - 302536849)*x^7*y +
  1/281490781069969*(142159100503998464*x + 364359771401611240)*x^7 +
  1/281490781069969*(-16087414246042280*x - 46593037006570981)*x^6*y +
  1/281490781069969*(20296212952731672*x + 41023176854721266)*x^6 +
  1/281490781069969*(-77760208937065320*x - 209376082378286211)*x^5*y +
  1/281490781069969*(135361028595673104*x + 349963743172697640)*x^5 +
  1/281490781069969*(-131275575618410000*x - 350304546350339011)*x^4*y +
  1/281490781069969*(-53647062089108968*x - 147744692493554432)*x^4 +
  1/281490781069969*(23626940422902480*x + 60501894860376219)*x^3*y +
  1/281490781069969*(20974595523055680*x + 53819003125774343)*x^3 +
  1/281490781069969*(70725462253712184*x + 186555291583406137)*x^2*y +
  1/281490781069969*(-50427947854690104*x - 134330767272226105)*x^2 +
  1/281490781069969*(-21291997925890440*x - 56673726478175569)*x*y +
  1/281490781069969*(21664632150658440*x + 57387419269719889)*x +
  1/281490781069969*(-2184197341312000*x - 5797786817811200)),
  (8*x*x^33 +
  1/20059156006924296510220290997*(6457508697040675078231680392582*x +
  4176293735894963882615275255088)*x^32 +
  1/12452210915828790143115728705673605743*(67414226823522961344469577111169517906632*x
  + 100654739060393862308609140160901997919928)*x^31 + (-24*x +
  112)*x^30*y +
  1/61840111972312600836524746696209236869967106536*(3489935749282566149649266044836949688717888340643633*x
  + 7086048043372772574367630449541863387343400169501256)*x^30 +
  1/20059156006924296510220290997*(-2776811027634871855594718584536*x +
  43025143951477825270231423865092)*x^29*y +
  1/76777519161014597741345127218922917040774418217993005168*(30627092077867928199234161371341773784585575527307033749068669*x
  + 70827658953392677122986425308343787431496518103438024295521394)*x^29 +
  1/12452210915828790143115728705673605743*(12039730154488302199377399521994210588966*x
  + 246459486647576242977962686413122189189818)*x^28*y +
  1/76777519161014597741345127218922917040774418217993005168*(163345831859757188422737148187985373078181810250743888731806583*x
  + 402941158709629931344945103914456820793664887792478366178678294)*x^28 +
  1/30920055986156300418262373348104618434983553268*(-86258169276874117036674582148127081915390155252665*x
  + 2104307885327617752015235898521804492735707526912595)*x^27*y +
  1/76777519161014597741345127218922917040774418217993005168*(768482830637873658774684706664218383819690360179291172551308479*x
  + 1967641771871897651042439053699372488142581861061007093843236394)*x^27 +
  1/19194379790253649435336281804730729260193604554498251292*(-5355552203615396431905366616746715314406870351518192349264693*x
  - 9661197934949959902078335238928676854706475076917738817455951)*x^26*y +
  1/19194379790253649435336281804730729260193604554498251292*(841645068971457366946535421043866544052019727986397821392257231*x
  + 2197306637287401281422047657647275266548711718493726628364507483)*x^26 +
  1/76777519161014597741345127218922917040774418217993005168*(-239653902199317124063520173272379356220863890366634561816680249*x
  - 592069006759984983964786780687572148016883400363062964070982442)*x^25*y
  +
  1/19194379790253649435336281804730729260193604554498251292*(3167768104585895848780704511685648663095599331214720222996879037*x
  + 8338365017320068595125753700350880407892488794289690206362141141)*x^25 +
  1/76777519161014597741345127218922917040774418217993005168*(-1525813353854739182265724825335645478459090103800571249689508989*x
  -
  3962580738041352285344966516516362511843987301362492092044101274)*x^24*y
  +
  1/38388759580507298870672563609461458520387209108996502584*(19555275204631216775823494010227915879552685727672621945145310357*x
  + 51639698121280666587388037997805076871920247262493230534773648914)*x^24 +
  1/38388759580507298870672563609461458520387209108996502584*(-3522730304417232203845686980696735346809668427958480719411369681*x
  -
  9271344927303941028001962470223540615665257228960623720201280450)*x^23*y
  +
  1/19194379790253649435336281804730729260193604554498251292*(24491426652444553224080411733884871157499635828622297527459540387*x
  + 64755408568655783810190828371027974922560968944099800512390057317)*x^23 +
  1/38388759580507298870672563609461458520387209108996502584*(-12394989078831957868658190358818651173309529498844333416512168717*x
  -
  32751653959730803505020782040854571341775352724878581255803430450)*x^22*y
  +
  1/19194379790253649435336281804730729260193604554498251292*(50163383425218420202124052188529243461087107220975101856766531308*x
  + 132697477039350536429130451157666689423929069758249608814270987143)*x^22
  +
  1/76777519161014597741345127218922917040774418217993005168*(-68010386517273461384473735815054138061333222529732034916421739201*x
  -
  179923184821305244161677618657736541334702213010806101793346974946)*x^21*y
  +
  1/10968217023002085391620732459846131005824916888284715024*(48365693549410558759148681163907527698954895162980980435431213667*x
  + 127966194394149305859781161133906718142581214921153969114938588826)*x^21
  +
  1/76777519161014597741345127218922917040774418217993005168*(-147478786705045817793461865031347726415932075449872912959021812525*x
  -
  390292356530576829690993190675413878888156317609280634659970977906)*x^20*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(472438110695071601040469008347758143961131359151877902947813010073*x
  + 1250054186831426164445933861528851404461101817327241772869546484026)*x^20
  +
  1/19194379790253649435336281804730729260193604554498251292*(-63746195250326252041922773900602095695676231747083147972911085343*x
  -
  168710822404415401453630987639908808930453456509184502716261320517)*x^19*y
  +
  1/10968217023002085391620732459846131005824916888284715024*(77558850114861430325362513989591560171845163839858511783967537513*x
  + 205217796746307735087121128119020235978780647166001988468408099490)*x^19
  +
  1/2742054255750521347905183114961532751456229222071178756*(-12546190853790652110623112373505775707812266012964941833285408853*x
  -
  33204076577870261346136856208262913569099355713954731285699561771)*x^18*y
  +
  1/38388759580507298870672563609461458520387209108996502584*(252505353176470282275686556644586010705304334221314104662399914511*x
  + 668092948016561357133919947661422438263990770998465377700010990980)*x^18
  +
  1/38388759580507298870672563609461458520387209108996502584*(-190027170744594964315747290259695069630710227577928284566710465913*x
  -
  502893121210396176846502734475780830757562541685716404716315075418)*x^17*y
  +
  1/9597189895126824717668140902365364630096802277249125646*(45348538707091789219301596904314776937317191462582771770903662428*x
  + 119974473482360746833372993749370561942184238231158116125569559879)*x^17
  +
  1/38388759580507298870672563609461458520387209108996502584*(-154499925562428471790187279875564807551495367874282314907479459085*x
  -
  408850729642314871720596462947789725823720616839141450577452317834)*x^16*y
  +
  1/19194379790253649435336281804730729260193604554498251292*(43585839565827803181471854228001705190691502240791642005092293811*x
  + 115279718082122269957306343946448352438073568597713393724859836734)*x^16
  +
  1/19194379790253649435336281804730729260193604554498251292*(-41161144287199672697422320840059257093105231156830062082487992571*x
  -
  108914614749532208646386971968507133415384792082230212453087819494)*x^15*y
  +
  1/1371027127875260673952591557480766375728114611035589378*(293715726953051159035562059532745558386055257914137117164567868*x
  + 773467127308031157927187785312778319425257489180585403847912537)*x^15 +
  1/19194379790253649435336281804730729260193604554498251292*(-5011778179408844392523293238993765609452380023277495110860467271*x
  -
  13250014982784084666312366092645944131417698121913170743177310614)*x^14*y
  +
  1/38388759580507298870672563609461458520387209108996502584*(-31343641800355992086974396952057813597958719669124401876009861469*x
  - 83028073278178488670850433687699278791204714361094646634002193852)*x^14 +
  1/38388759580507298870672563609461458520387209108996502584*(29913155572178705595412995911859503756495693735749045996303155387*x
  +
  79183159175225691386293598938973114023033249551509876397341142406)*x^13*y
  +
  1/10968217023002085391620732459846131005824916888284715024*(-9540861012142791047967959363089037337280026728888762367602638079*x
  - 25265569049932565368660764258098170074448474638099269545792595214)*x^13 +
  1/5484108511501042695810366229923065502912458444142357512*(4569884593329309148964042650482124777783706566777607310640657225*x
  +
  12096453808187209241515057645734368071017115186092263473170215786)*x^12*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(-34451608842020206398977593022713922355202182352876476875955652855*x
  - 91255506595144277195203414373209906028463199926995276363942361718)*x^12 +
  1/19194379790253649435336281804730729260193604554498251292*(7482195009696253953419853187487887218651219205991688858875146349*x
  +
  19810146358112367834801482222649265686785112257685903743771874755)*x^11*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(-4453742289643800988555770895596893449975537401462824729463005571*x
  - 11841265707819272730479180144339361363400616693628248996466817082)*x^11 +
  1/19194379790253649435336281804730729260193604554498251292*(114419420551389446584745000986163321862744907494528739205379003*x
  + 310534754453593505585476702566336763237874842461668091873031611)*x^10*y
  +
  1/19194379790253649435336281804730729260193604554498251292*(1875350968781773735765469314302586338308606414019422722106644870*x
  + 4955126896081038613006545853942856249483384150665193469002489079)*x^10 +
  1/76777519161014597741345127218922917040774418217993005168*(-8470545050213359487846626051296474706422193766864320487433169909*x
  -
  22397416959085484028293504777416421566052670558653453669982017826)*x^9*y
  +
  1/19194379790253649435336281804730729260193604554498251292*(1532442996426487857358372396144622081248710873750601394571182035*x
  + 4052029003883421551870889430814307521891987334338474013817020541)*x^9 +
  1/10968217023002085391620732459846131005824916888284715024*(-694738811136936343350268835380745358576855402714656596047502511*x
  - 1837473973994801326928830355819227141693810202701232744804640158)*x^8*y
  +
  1/38388759580507298870672563609461458520387209108996502584*(893264032581952729331417423830643732077398137505359859395892181*x
  + 2361970209824101419233625504018872224125598738036717803414001778)*x^8 +
  1/5484108511501042695810366229923065502912458444142357512*(-31992427558591927138967726474619134083469495180432550888537911*x
  - 84575836528094454864188802085362169340478760659930798744094670)*x^7*y +
  1/19194379790253649435336281804730729260193604554498251292*(-90873878579642157482608134617573265421647210504425738088990307*x
  - 240561809984553809276005532689273701904185728308011232821192387)*x^7 +
  1/38388759580507298870672563609461458520387209108996502584*(376306585574153710293829209917934220694271319923921635730014291*x
  + 995641631744451430631743906481853047245978618040356307720992558)*x^6*y
  +
  1/19194379790253649435336281804730729260193604554498251292*(-113097627047018765098987717522953122503426448904245400265385679*x
  - 299236241382266669150250645046233692045454996982563554196346837)*x^6 +
  1/76777519161014597741345127218922917040774418217993005168*(345622871554068804568135878325842306202074259260251206913083883*x
  + 914386486305782319038827747663229465872745737642113809812272662)*x^5*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(-119382401775346889599052866364147699390002693849446750566202841*x
  - 315840346369762546372263547122877286602363216669315871246512838)*x^5 +
  1/76777519161014597741345127218922917040774418217993005168*(4191156823421403148189888107091636288446866835172234254638383*x
  + 11071379909131286125051606490681301893996758735399830642366214)*x^4*y +
  1/76777519161014597741345127218922917040774418217993005168*(12114166071919946003476309987005812758244989453016894987967271*x
  + 32055706453280122349521145854191856145253547095362040168071206)*x^4 +
  1/19194379790253649435336281804730729260193604554498251292*(-13525515660291879520761243060447652778040470461259477541157743*x
  - 35785701667914970494765079431703683355927502384573957544872847)*x^3*y +
  1/10968217023002085391620732459846131005824916888284715024*(-393190199907857430567372589938208820892699719968709725406637*x
  - 1040264567564572929003391728622499235652683581905846606546866)*x^3 +
  1/2002961472425508654423070208153055333423103887561124*(-385746209696963463320499594478835857237222531415643355393*x
  - 1020583795658916656159405705817583857496907722392337556105)*x^2*y +
  1/28041460613957121161922982914142774667923454425855736*(2295561421236892763906312051423698260976118042044279984159*x
  + 6073433261930038701526326158173749409349504281712014632088)*x^2 +
  1/365770904387419403656513916755488556140084712849*(43726873690923933738161653493029027618713671081707200*x
  + 115690643732225467351690700762792874629101629518236800)*x*y +
  1/2560396330711935825595597417288419892980592989943*(23732491359720991124721886882723123223462809452932800*x
  + 62790042957911970879963295898018393843334439727609600)*x +
  1/267181084285916291933173058258209317852508921*(-2597515538286318094454249765456555700165672960000*x
  - 6872380435228682613576561122789843998342440960000)*y +
  1/1870267590001414043532211407807465224967562447*(-3436190217614341306788280561394921999171220480000*x
  - 9091304384002113330589874179097944950579855360000))/(x^33 +
  1/80236624027697186040881163988*(699489815559554778962639766732*x +
  1744376804007939597359538662513)*x^32 +
  1/99617687326630321144925829645388845944*(17834669314087719266195207188756427247846*x
  + 45725539322861393590011269013701755733929)*x^31 - 3*x^30*y +
  1/494720895778500806692197973569673894959736852288*(1213491304848904002278983686474569732752143051451480*x
  + 3266416301474439479908585133274698831038456568699445)*x^30 +
  1/40118312013848593020440581994*(-1050249072317409148280525746348*x -
  3364065149057004504002705712591)*x^29*y +
  1/307110076644058390965380508875691668163097672871972020672*(8388139770394216644043699781436324338999689077478750713761528*x
  + 22610433337562816280798823923576714567426908815685987659147569)*x^29 +
  1/24904421831657580286231457411347211486*(-16672451771769018546662797963705960009505*x
  - 43657055036976134949406477536424488983953)*x^28*y +
  1/153555038322029195482690254437845834081548836435986010336*(37777590363748415091847335219838343016476965782291453299522544*x
  + 101007150244096555568966321647781918263966588934710509418240323)*x^28 +
  1/247360447889250403346098986784836947479868426144*(-2361326390114094373273947582331798673941979422293648*x
  - 6135722209970031636848833708117748012812193291352809)*x^27*y +
  1/307110076644058390965380508875691668163097672871972020672*(534418281227664121618388415929206136029454007395896443762010792*x
  + 1421183346103776292621684714159423399264289090292615966911422951)*x^27 +
  1/307110076644058390965380508875691668163097672871972020672*(-29705706959481706547933879782645185091755141032511493009805928*x
  - 77849278730770068036475942548158956491067772098914623539406307)*x^26*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(2999986164198037110306688475645087937552560558761945472550674584*x
  + 7956434678870666328061867607213528797848280551332212665679836021)*x^26 +
  1/307110076644058390965380508875691668163097672871972020672*(-233911433819968459703901788936333242122321482923858029109839160*x
  - 616295147769171951381501216964136471411650639526851257246196135)*x^25*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(3363373688219394028885477935017619502917889101750133499888641904*x
  + 8909153201465232662324850704035349332288346934460220171568879599)*x^25 +
  1/307110076644058390965380508875691668163097672871972020672*(-1471972296440759463191543117852099834713775938924555648966273240*x
  -
  3887661841168738972761441053816792442720838492971803809734202933)*x^24*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(11818325169607354851317698661944268348794720453497752736915026160*x
  + 31287956631876555736433015989852745446202012865655432192199781491)*x^24 +
  1/307110076644058390965380508875691668163097672871972020672*(-7385636746313414062709892941713488679978710047723916362118847416*x
  -
  19525848578476082623300823866159103893344683130880314430734322667)*x^23*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(32664439660424186634445026000324707244884629916473143380768709820*x
  + 86453940812587656893311142737569141916502300138328411543286534195)*x^23 +
  1/43872868092008341566482929839384524023299667553138860096*(-4160766939828315459403568462505065123796602633637108544252708664*x
  -
  11004515465585888911478543831833972105976978999253535272287723697)*x^22*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(287506069736939289049658833118567604272949327439953679820325586216*x
  + 760854119875810772318227122085608626926142151224659742159907738719)*x^22
  +
  1/307110076644058390965380508875691668163097672871972020672*(-88861785243507551553883286930618491446335065518718430985665524168*x
  -
  235063699375345551395970174015868810017308301272214232248351785161)*x^21*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(510634050938964901441238547704351585006872299421891806467884418616*x
  + 1351249146668369990763350901948767933057657532249175738613893238917)*x^21
  +
  1/307110076644058390965380508875691668163097672871972020672*(-210085762587078836609146649525126180790737372307923548849243469448*x
  -
  555775579866048243119429792163910503132699580389475421127477558179)*x^20*y
  +
  1/153555038322029195482690254437845834081548836435986010336*(368636206357966578923410937309080084315174097234851377146819128944*x
  + 975458509618313487672257941937978015778068509284304174397099966533)*x^20
  +
  1/307110076644058390965380508875691668163097672871972020672*(-387063875109331675025141249748236742785522475728341182968362115432*x
  -
  1024001519254039732645552636360951568721359816519314903759565298323)*x^19*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(863684006859751450762571920358330542627920695952446654322114877928*x
  + 2285385653705256579772014444291716523987323953731511148216607005011)*x^19
  +
  1/76777519161014597741345127218922917040774418217993005168*(-139068269971790100192598433257811529554649003865140904366226901960*x
  -
  367919683622835783340940140008679677843054751571788118315398353905)*x^18*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(805917140264785927144544660453765198648212458424384705309832849208*x
  + 2132536417249749748789653281015479507999885982682470749523227620493)*x^18
  +
  1/153555038322029195482690254437845834081548836435986010336*(-307302859583653411502822873247582754466179858039031423853151450264*x
  -
  813006027692224641390810787233621416906125156727074706459210831123)*x^17*y
  +
  1/9597189895126824717668140902365364630096802277249125646*(17740247583842680722423416254541526954673559276943742341518306634*x
  + 46943908224840915911345655122742727134517074929755663750525837433)*x^17 +
  1/153555038322029195482690254437845834081548836435986010336*(-248429257313946602322732039806252483220812585566376716884646337720*x
  -
  657244872607853758705517066062221153243632310544847884463857302793)*x^16*y
  +
  1/38388759580507298870672563609461458520387209108996502584*(31388175800240385492655606782797809095382878862600409177812979288*x
  + 83069496873371157385756705874097228776936301048120925111403569131)*x^16 +
  1/153555038322029195482690254437845834081548836435986010336*(-123793105119097646440271129105237568730291160937981814309648900376*x
  -
  327495223223406921671800665674527136047793532435759958060894391919)*x^15*y
  +
  1/38388759580507298870672563609461458520387209108996502584*(-830769168485233741461551189305074101683094035593276359417461926*x
  - 2180555114658272573196198206189771589279275770379719537844029809)*x^15 +
  1/153555038322029195482690254437845834081548836435986010336*(-970441001597318965602491987742449831941161464780258049541142344*x
  -
  2544832269558231844447178969916557242082232353348259885694864255)*x^14*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(-123739223822496614914174337331707579408779330873587913573786877160*x
  - 327291754768083937503165913322328546813089537249485452474063601979)*x^14
  +
  1/153555038322029195482690254437845834081548836435986010336*(60773775425588913535380066600161899776188894855925557547507310840*x
  +
  160807545722776716142116440595359609539653413971999809442456646471)*x^13*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(-113218866432939126327087655288264851562924043821296267780764174104*x
  - 299494774374762401863471330500555539328936095593235299241574794997)*x^13
  +
  1/153555038322029195482690254437845834081548836435986010336*(54969002467401995641237998597811821903791485531038472548479846504*x
  +
  145443527425549656533399323941728499669488026888435172140208289853)*x^12*y
  +
  1/153555038322029195482690254437845834081548836435986010336*(-24688792298897519581393288644399758115730894255712600284156710192*x
  - 65305961096419987630169185904370253488711356640021588388931273411)*x^12 +
  1/76777519161014597741345127218922917040774418217993005168*(10042525627261047284000611803495526983804198347255729370667227444*x
  +
  26572520894158059722846103359837713823647629369496517471928801249)*x^11*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(766957046313398723865457022522086395654358104191979307223691896*x
  + 2042928698934459270129165679382755935155153104464223833658986109)*x^11 +
  1/307110076644058390965380508875691668163097672871972020672*(-9202546552525397857916891497404093717898175909294843742361247784*x
  -
  24342841897916580819797029916541009728592772099796195370584743675)*x^10*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(15441149054953753381419892859690117238013616079533504050576351688*x
  + 40859226009337809512164904212890381100364286444005759295445726519)*x^10 +
  1/307110076644058390965380508875691668163097672871972020672*(-17436577133840515232357889519203911340128483153452748097389796376*x
  -
  46130810193420784549621663942920708188452939836748305001915819139)*x^9*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(2258315033053753550663656705323829123671124318924629251651810496*x
  + 5975470589875734651803831742260805980453306125250411970199319577)*x^9 +
  1/307110076644058390965380508875691668163097672871972020672*(-6646878608445501582340571341443697958029396426921502851992109112*x
  -
  17585241813780715853363160225687670214288547591956908389520844649)*x^8*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(256118504244168970000962664174048621598449958986987382836864080*x
  + 677792412198214059748307047044640087003879242181207282514986939)*x^8 +
  1/307110076644058390965380508875691668163097672871972020672*(921191504820087209459757218112671345738866003498512345513692520*x
  + 2437473758472865180834887730871457887659335096969946968649162233)*x^7*y
  +
  1/76777519161014597741345127218922917040774418217993005168*(-343775196234819842880857250931954284209281129741683348082631580*x
  - 909500021758822343860805082856523650449867234268181876941024691)*x^7 +
  1/307110076644058390965380508875691668163097672871972020672*(1506172161932179231775242475071155880407131933054433941565291416*x
  + 3985014369681084950040832979645806574625816952482536385050288453)*x^6*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(-680929444401192830019424242552516800770738490067649419476631752*x
  - 1801533170630890382808029351734231136891733359390572894560718099)*x^6 +
  1/307110076644058390965380508875691668163097672871972020672*(290970801908403029873490549505083232854014915685803229995953880*x
  + 769847138190776314626054289064887212693532708310703173525397803)*x^5*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(33441530426354748537360207467537400851809119195770871353348072*x
  + 88484012686317514075921877011385513202332407326118755035158079)*x^5 +
  1/307110076644058390965380508875691668163097672871972020672*(-118702183282374255000049385571926218117615738486175134220084904*x
  - 314055012857213962484623321757773756649810831799272622213378567)*x^4*y
  +
  1/153555038322029195482690254437845834081548836435986010336*(32738825963757031114712387007397689184533254846808271826882768*x
  + 86619138471841072323739094852902884817345871600952995177964635)*x^4 +
  1/307110076644058390965380508875691668163097672871972020672*(-49380131551734364306905623988219450513106447960360977904912776*x
  - 130647418045707412058451693762469480697454295478741575157010315)*x^3*y
  +
  1/307110076644058390965380508875691668163097672871972020672*(10469755001699612190889568021192279317198333410863671686555384*x
  + 27700430654900329134841295760092133169613577170785230438780233)*x^3 +
  1/112165842455828484647691931656571098671693817703422944*(4577022060848097991710299981716210780572656262647172539736*x
  + 12109680002903817196773017827273062300379182750052924846561)*x^2*y +
  1/224331684911656969295383863313142197343387635406845888*(-4376951393332172031183221727956709069629306321099237379416*x
  - 11580326219737846442519108072594091908528423716195729942241)*x^2 +
  1/365770904387419403656513916755488556140084712849*(-822233466803230945138894896204765378802754451224800*x
  - 2175426966471997159297721783161523491095025203069800)*x*y +
  1/2560396330711935825595597417288419892980592989943*(5820892398120352265894639944906964895575945577901600*x
  + 15400644825978687422584101534009587734102068365936600)*x +
  1/1870267590001414043532211407807465224967562447*(-162344721142894880903390610341034731260354560000*x
  - 429523777201792663348535070174365249896402560000))
];
fX := R ! DefiningEquation(AffinePatch(X, 1)); fY := R ! DefiningEquation(AffinePatch(Y, 1));
IX := ideal<R | fX>;
print "Well-defined?", R ! Numerator(Evaluate(R ! fY, fs)) in IX;

exit;

/* Check that the action on differentials is correct: */
K := FieldOfFractions(R);
dx := K ! 1;
dy := K ! -Derivative(fX, 1)/Derivative(fX, 2);
ev := (Derivative(fs[1], 1)*dx + Derivative(fs[1], 2)*dy) / fs[2];
h := x^2 + x;
c := 2
print "Correct pullback?", R ! Numerator(ev - c*(1 + x)/(2*y + h)) in IX;

AX := AffinePatch(X, 1); AY := AffinePatch(Y, 1);
KX := FunctionField(AX); KY := FunctionField(AY);
m := map<AX -> AY | fs >;
print "Degree:", Degree(ProjectiveClosure(m));

exit;
